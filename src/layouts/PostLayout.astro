---
import BaseLayout from './BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import type { CollectionEntry } from 'astro:content';

interface Props {
	post: CollectionEntry<'posts'>;
}

const { post } = Astro.props;
const { title, summary, date, tags, image } = post.data;
---

<BaseLayout title={title} description={summary || title}>
	<Header />
	<main class="container mx-auto px-4 max-w-3xl">
		<article class="prose prose-zinc dark:prose-invert max-w-none">
			<header class="mb-8 not-prose">
				{image && (
					<img 
						src={image} 
						alt={title} 
						class="w-full h-64 object-cover rounded-xl mb-6 shadow-sm"
					/>
				)}
				<div class="flex items-center gap-4 text-sm text-zinc-500 dark:text-zinc-400 mb-4">
					<time datetime={date.toISOString()}>
						{date.toLocaleDateString('en-US', {
							year: 'numeric',
							month: 'long',
							day: 'numeric',
						})}
					</time>
					{tags && (
						<div class="flex gap-2">
							{tags.map((tag) => (
								<span class="bg-zinc-100 dark:bg-zinc-800 px-2 py-1 rounded-md text-xs">
									#{tag}
								</span>
							))}
						</div>
					)}
				</div>
				<h1 class="text-4xl font-bold tracking-tight text-zinc-900 dark:text-white mb-4">{title}</h1>
				{summary && <p class="text-xl text-zinc-600 dark:text-zinc-300 leading-relaxed">{summary}</p>}
			</header>
			
			<div class="markdown-content">
				<slot />
			</div>
		</article>
	</main>
	<Footer />
</BaseLayout>

